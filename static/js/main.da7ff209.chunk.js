(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,a){e.exports=a(74)},35:function(e,t,a){},37:function(e,t,a){},61:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),i=a.n(c),l=(a(35),a(3)),s=a(4),o=a(7),m=a(5),u=a(6),h=(a(37),a(10)),d=a(8),p=a(28),b=a.n(p),f="FETCH_CITY_WEATHER",E="https://api.openweathermap.org/data/2.5/weather?appid=".concat("7f9eb6ac12c1f9bb70c46745d236904e");function g(e){var t="".concat(E,"&q=").concat(e),a=b.a.get(t);return{type:f,payload:a}}var w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={cityStr:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card-header py-3"},r.a.createElement("form",{onSubmit:function(t){e.handleSubmit(t)}},r.a.createElement("div",{className:"input-group mx-auto"},r.a.createElement("input",{type:"text",className:"form-control bg-dark font-weight-light text-light border  border-secondary",placeholder:"Search for a city",value:this.state.cityStr,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{type:"submit",className:"btn btn-dark border border-secondary"},r.a.createElement("span",{className:"oi oi-magnifying-glass"}))))))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.fetchCityWeather(this.state.cityStr),this.setState({cityStr:""})}},{key:"handleChange",value:function(e){this.setState({cityStr:e.target.value})}},{key:"componentDidMount",value:function(){this.props.fetchCityWeather(this.props.defaultCity)}}]),t}(n.Component);var y=Object(h.b)(null,function(e){return Object(d.b)({fetchCityWeather:g},e)})(w),v=(a(61),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={units:"F"},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"position-relative w-100 h-100"},r.a.createElement("div",{id:"tempContainer",className:"text-center w-100 position-absolute"},r.a.createElement("div",{id:"tempCircle",className:"d-flex flex-row justify-content-center mx-auto rounded-circle bg-light text-dark"},r.a.createElement("h1",{className:"display-3 mb-0 align-self-center"},this.tempInSelectedUnits(this.props.weatherData.main.temp)),r.a.createElement("p",{className:"m-0 align-self-center"},r.a.createElement("button",{className:"btn btn-light border-0 px-1 py-0 ".concat("F"===this.state.units?"text-info":"text-muted"),href:"#",onClick:function(t){return e.setState({units:"F"})}},"\xb0F"),r.a.createElement("span",null,"|"),r.a.createElement("button",{className:"btn btn-light border-0 px-1 py-0 ".concat("C"===this.state.units?"text-info":"text-muted"),href:"C",onClick:function(t){return e.setState({units:"C"})}},"\xb0C"))),r.a.createElement("p",{className:"p-3"},"High ",this.tempInSelectedUnits(this.props.weatherData.main.temp_max),"\xb0",this.state.units," | Low ",this.tempInSelectedUnits(this.props.weatherData.main.temp_min),"\xb0",this.state.units)))}},{key:"tempInSelectedUnits",value:function(e){var t=e-273;switch(this.state.units){case"F":return Math.floor(1.8*t+32);case"C":return Math.floor(t);default:return null}}}]),t}(n.Component)),N=function(e){return r.a.createElement("div",{id:"weatherDescription",className:"text-center pb-4"},r.a.createElement("h2",{className:"font-weight-light mb-0"},r.a.createElement("i",{className:"mr-2 align-middle owf owf-".concat(e.weatherData.weather[0].id)}),e.weatherData.weather[0].main),r.a.createElement("p",{className:"text-muted mb-0"},e.weatherData.weather[0].description))},j=a(9),O=window.google,D=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={imgUrl:a.props.imgUrl,imgLoaded:!1},a.onPlaceSearchComplete=a.onPlaceSearchComplete.bind(Object(j.a)(Object(j.a)(a))),a.onPlacesImageLoaded=a.onPlacesImageLoaded.bind(Object(j.a)(Object(j.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.renderGooglePlacesImg()}},{key:"componentDidUpdate",value:function(e){e.weatherData.name!==this.props.weatherData.name&&(this.setState({imgUrl:null}),this.renderGooglePlacesImg())}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"d-none",ref:"map"}),r.a.createElement("img",{className:"w-100 h-100 position-absolute ".concat(this.state.imgLoaded&&null!==this.state.imgUrl?"d-inline":"d-none"),src:this.state.imgUrl,alt:"google places representation",onLoad:this.onPlacesImageLoaded}))}},{key:"renderGooglePlacesImg",value:function(){var e,t=this.props.weatherData,a=new O.maps.LatLng(t.coord.lat,t.coord.lon);e=new O.maps.Map(this.refs.map,{center:a,zoom:15});var n={query:t.name,fields:["photos"]};new O.maps.places.PlacesService(e).findPlaceFromQuery(n,this.onPlaceSearchComplete)}},{key:"onPlaceSearchComplete",value:function(e,t){if(t===O.maps.places.PlacesServiceStatus.OK){var a=e[0].photos[0].getUrl({maxWidth:600,"min-height":250});this.setState({imgUrl:a})}}},{key:"onPlacesImageLoaded",value:function(){this.setState({imgLoaded:!0})}}]),t}(n.Component),S=function(e){var t=new Date(1e3*e.timestamp),a="0".concat(t.getMinutes()),n=t.getHours(),c=n>=12?"PM":"AM",i="".concat(n=(n%=12)||12,":").concat(a.substr(-2)," ").concat(c);return r.a.createElement("span",null,i)};var C=function(e){var t=new Date(1e3*e.timestamp);return r.a.createElement("small",null,["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()]," ",r.a.createElement(S,{timestamp:e.timestamp}))},x=function(e){return r.a.createElement("div",{id:"cityBanner",className:"position-relative"},e.weatherData?r.a.createElement("div",null,r.a.createElement("div",{id:"darkener",className:"w-100 h-50 position-absolute"}),r.a.createElement("div",{id:"cityTitle",className:"p-3 position-absolute"},r.a.createElement("h6",{className:"mb-0"},e.weatherData.name,", ",e.weatherData.sys.country,"."),r.a.createElement(C,{timestamp:e.weatherData.dt})),r.a.createElement(D,{weatherData:e.weatherData,imgUrl:null})):null)},k=function(e){return r.a.createElement("div",{id:"statsGradient",className:"p-4"},r.a.createElement("table",{id:"statsTable",className:"table table-sm mb-0"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},r.a.createElement("span",{className:"oi oi-timer"})),r.a.createElement("td",null,"Pressure"),r.a.createElement("td",{className:"text-right"},e.weatherData.main.pressure,"kPa")),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},r.a.createElement("span",{className:"oi oi-droplet"})),r.a.createElement("td",null,"Humidity"),r.a.createElement("td",{className:"text-right"},e.weatherData.main.humidity,"%")),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},r.a.createElement("span",{className:"oi oi-sun"})),r.a.createElement("td",null,"Sunrise"),r.a.createElement("td",{className:"text-right"},r.a.createElement(S,{timestamp:e.weatherData.sys.sunrise})," ")),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},r.a.createElement("span",{className:"oi oi-star"})),r.a.createElement("td",null,"Sunset"),r.a.createElement("td",{className:"text-right"},r.a.createElement(S,{timestamp:e.weatherData.sys.sunset})," ")))))},P=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.weatherData;return 0===e.length?r.a.createElement("div",{className:"card-body text-center text-light"},r.a.createElement(x,null)):r.a.createElement("div",{className:"card-body text-light p-0"},r.a.createElement(x,{weatherData:e}),r.a.createElement(v,{weatherData:e}),r.a.createElement(N,{weatherData:e}),r.a.createElement(k,{weatherData:e}))}}]),t}(n.Component);var I=Object(h.b)(function(e){return{weatherData:e.weatherForCity}})(P),U=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"card bg-dark mx-auto col-sm-6 p-0 rounded-0"},r.a.createElement(y,{defaultCity:"San Francisco"}),r.a.createElement(I,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=a(29),L=a.n(F),M=Object(d.c)({weatherForCity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return t.payload.data;default:return e}}}),W=Object(d.a)(L.a)(d.d);i.a.render(r.a.createElement(h.a,{store:W(M)},r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[30,2,1]]]);
//# sourceMappingURL=main.da7ff209.chunk.js.map